<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1">
    <BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="800.0" stylesheets="@../styles/Admin.css">

        <!-- Header -->
        <top>
            <HBox alignment="CENTER" spacing="20.0" style="-fx-padding: 10px;">
                <Label styleClass="title-label" text="Library Management System">
                    <font>
                        <Font name="Arial Bold" size="28.0" />
                    </font>
                </Label>
            </HBox>
        </top>

        <!-- Left Navigation -->
        <left>
            <VBox spacing="15.0" style="-fx-padding: 20px;"> 
                <Label fx:id="Home" onMouseClicked="#Home" styleClass="nav-label" text="Home" />
                <Label fx:id="navSearchBook" onMouseClicked="#showSearchBookPane" styleClass="nav-label" text="Search Book" />
                <Label fx:id="navManageBooks" onMouseClicked="#showManageBooksPane" styleClass="nav-label" text="Manage Books" />
                <Label fx:id="navManageUsers" onMouseClicked="#showManageUsersPane" styleClass="nav-label" text="Manage Users" />
               
            </VBox>
        </left>

        <!-- Main Content -->
        <center>
            <StackPane fx:id="contentArea">

                <!-- Dashboard -->
                <VBox fx:id="home" spacing="10.0" style="-fx-padding: 20px;" visible="false">
                    <Label fx:id="dashboardLabel" style="-fx-font-size: 50px; -fx-font-weight: bold;" text="Dashboard" />
                    <Label fx:id="greetingLabel" style="-fx-font-size: 40px; -fx-text-fill: red;" text="Hello, User!" />
                    <Label fx:id="dateTimeLabel" text="Date &amp; Time" />
                </VBox>

                <!-- Search Book Pane -->
                <VBox fx:id="searchBookPane" spacing="10.0" style="-fx-padding: 20px;" visible="false">
                    <Label styleClass="section-title" text="Search Books" />
                    <HBox spacing="10.0">
                        <TextField fx:id="searchBook" promptText="Enter book title" />
                        <TextField fx:id="searchAuthor" promptText="Enter author name" />
                       <Button fx:id="searchBookButton" layoutX="345.0" layoutY="240.0" mnemonicParsing="false" onAction="#handleSearchBook" styleClass="SearchButton" text="SearchBook" />
                    </HBox>
                    <ListView fx:id="searchResult" prefHeight="200.0" />
                </VBox>

                <!-- Manage Books Pane -->
                <VBox fx:id="manageBooksPane" spacing="10.0" style="-fx-padding: 20px;">
                    <Label styleClass="section-title" text="Manage Books" />
                    <HBox spacing="10.0">
                        <TextField fx:id="bookTitleField" promptText="Enter book title" />
                        <TextField fx:id="bookAuthorField" promptText="Enter author name" />
                        <TextField fx:id="bookISBNField" promptText="Enter ISBN" />
                        <Button fx:id="addBookButton" onAction="#handleAddBook" text="Add Book" />
                    </HBox>
                    <TableView fx:id="bookTable">
                        <columns>
                            <TableColumn fx:id="titleColumn" text="Title" />
                            <TableColumn fx:id="authorColumn" text="Author" />
                            <TableColumn fx:id="isbnColumn" text="ISBN" />
                            <TableColumn fx:id="availableColumn" text="Available" />
                        </columns>
                    </TableView>
                </VBox>

                <!-- Manage Users Pane -->
                <VBox fx:id="manageUsersPane" spacing="10.0" style="-fx-padding: 20px;" visible="false">
                    <Label styleClass="section-title" text="Manage Users" />
                    <HBox spacing="10.0">
                        <TextField fx:id="usernameField" promptText="Enter username" />
                        <TextField fx:id="emailField" promptText="Enter email" />
                        <TextField fx:id="password" promptText="password" />
                        <Button fx:id="addUserButton" onAction="#handleAddUser" text="Add User" />
                    </HBox>
                    <TableView fx:id="userTable">
                        <columns>
                            <TableColumn fx:id="idColumn" text="Id" />
                            <TableColumn fx:id="usernameColumn" text="Username" />
                            <TableColumn fx:id="emailColumn" text="Email" />                         
                        </columns>
                    </TableView>
                </VBox>
            </StackPane>
        </center>

        <!-- Logout Button -->
        <bottom>
            <HBox alignment="BOTTOM_RIGHT" prefHeight="50.0" style="-fx-padding: 10px;">
                <Button fx:id="logoutButton" onAction="#handleLogout" styleClass="logout-button" text="Logout" />
            </HBox>
        </bottom>

    </BorderPane>
</StackPane>
