<?xml version="1.0" encoding="UTF-8"?>

<?import com.gluonhq.charm.glisten.control.Avatar?>
<?import javafx.geometry.Point3D?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1">
    <AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="616.0" prefWidth="865.0" stylesheets="@../styles/Admin.css">

        <!-- Left Navigation -->
        <Pane layoutX="15.0" layoutY="115.0" prefHeight="415.0" prefWidth="122.0" style="-fx-padding: 20px;">
            <VBox layoutY="2.0" prefHeight="380.0" prefWidth="121.0" spacing="15.0">
                <Label fx:id="Home" onMouseClicked="#Home" styleClass="nav-label" text="Home" />
                <Label fx:id="navSearchBook" onMouseClicked="#showSearchBookPane" styleClass="nav-label" text="Search Book" />
                <Label fx:id="navManageBooks" onMouseClicked="#showManageBooksPane" styleClass="nav-label" text="Manage Books" />
                <Label fx:id="ManageBorrowBook" onMouseClicked="#showManagerBorrowBook" styleClass="nav-label" text="Manage Borrow Books" />
                <Label fx:id="navManageUsers" onMouseClicked="#showManageUsersPane" prefWidth="121.0" styleClass="nav-label" text="Manage Users" />
                <ImageView fx:id="logoytb" fitHeight="60.0" fitWidth="109.0" pickOnBounds="true" preserveRatio="true" />
                <ImageView fx:id="logofb" fitHeight="60.0" fitWidth="109.0" pickOnBounds="true" preserveRatio="true" />
            </VBox>
        </Pane>

        <!-- Main Content -->
        <Pane layoutX="150" layoutY="50" prefHeight="564.0" prefWidth="713.0">
            <StackPane fx:id="contentArea" prefHeight="564.0" prefWidth="713.0">

                <!-- Search Book Pane -->
                <Pane fx:id="searchBookPane" prefHeight="526.0" prefWidth="656.0" style="-fx-padding: 20px;" visible="false">
                    <VBox prefHeight="564.0" prefWidth="713.0" spacing="10.0">
                        <Label styleClass="section-title" text="Search Books" />
                        <HBox prefHeight="31.0" prefWidth="0.0" spacing="10.0">
                            <TextField fx:id="searchBook" promptText="Enter book title" />
                            <TextField fx:id="searchAuthor" promptText="Enter author name" />
                            <Button fx:id="searchBookButton" mnemonicParsing="false" styleClass="SearchButton" text="SearchBook" />
                        </HBox>
                        <TableView fx:id="searchResult" prefHeight="200.0">
                            <columns>
                                <TableColumn fx:id="Title" prefWidth="449.0" text="Title" />
                                <TableColumn fx:id="Author" prefWidth="265.0" text="Author" />
                                <TableColumn fx:id="ISBN" prefWidth="242.0" text="ISBN" />
                                <TableColumn fx:id="Categories" minWidth="0.0" prefWidth="109.0" text="Categories" />
                            </columns>
                        </TableView>
                  <Pane fx:id="detailBook" prefHeight="249.0" prefWidth="713.0">
                     <children>
                        <ProgressIndicator layoutX="248.0" layoutY="56.0" prefHeight="123.0" prefWidth="221.0" progress="0.0" />
                     </children></Pane>
                    </VBox>
                </Pane>

                <!-- Manage Books Pane -->
                <Pane fx:id="manageBooksPane" prefHeight="543.0" prefWidth="738.0" style="-fx-padding: 20px;" visible="false">
                    <VBox prefHeight="564.0" prefWidth="713.0" spacing="10.0">
                        <Label styleClass="section-title" text="Manage Books" />
                        <HBox spacing="10.0">
                            <TextField fx:id="bookTitleField" promptText="Enter book title" />
                            <TextField fx:id="bookAuthorField" promptText="Enter author name" />
                            <TextField fx:id="bookISBNField" promptText="Enter ISBN" />
                            <Button fx:id="addBookButton" onAction="#handleAddBook" text="Add Book" />
                        </HBox>
                        <TableView fx:id="bookTable">
                            <columns>
                                <TableColumn fx:id="titleColumn" text="Title" />
                                <TableColumn fx:id="authorColumn" text="Author" />
                                <TableColumn fx:id="isbnColumn" text="ISBN" />
                                <TableColumn fx:id="availableColumn" text="Available" />
                            </columns>
                        </TableView>
                  <Pane fx:id="infoBook" prefHeight="348.0" prefWidth="701.0" />
                    </VBox>
                </Pane>

                <!-- Manage Users Pane -->
                <Pane fx:id="manageUsersPane" style="-fx-padding: 20px;" visible="false">
                    <VBox layoutY="-2.0" prefHeight="564.0" prefWidth="713.0" spacing="10.0">
                        <Label styleClass="section-title" text="Manage Users" />
                        <HBox spacing="10.0">
                            <TextField fx:id="usernameField" promptText="Enter username" />
                            <TextField fx:id="emailField" promptText="Enter email" />
                            <TextField fx:id="passwordField" promptText="password" />
                            <TextField fx:id="roleField" promptText="role" />
                            <Button fx:id="addUserButton" onAction="#handleAddUser" text="Add User" />
                        </HBox>
                        <TableView fx:id="userTable">
                            <columns>
                                <TableColumn fx:id="idColumn" text="Id" />
                                <TableColumn fx:id="usernameColumn" text="Username" />
                                <TableColumn fx:id="emailColumn" text="Email" />
                                <TableColumn fx:id="roleColumn" text="Role" />
                            </columns>
                        </TableView>
                  <Pane prefHeight="321.0" prefWidth="693.0" />
                    </VBox>
                </Pane>
            <Pane fx:id="ManagerBorrowBook" prefHeight="200.0" prefWidth="200.0" visible="false">
               <children>
                  <Label layoutY="-2.0" minWidth="-Infinity" prefHeight="60.0" prefWidth="306.0" text="Borrow Book">
                     <rotationAxis>
                        <Point3D x="1.0" y="1.0" z="1.0" />
                     </rotationAxis>
                  </Label>
                  <TableView fx:id="borrowRecord" layoutY="56.0" prefHeight="272.0" prefWidth="713.0">
                    <columns>
                        <TableColumn fx:id="Id_Book" prefWidth="84.0" text="Id_Book" />
                        <TableColumn fx:id="Title_Book" prefWidth="532.0" text="Title" />
                        <TableColumn fx:id="Id_User" prefWidth="84.0" text="Id_User" />
                        <TableColumn fx:id="Username" prefWidth="84.0" text="Name" />
                        <TableColumn fx:id="ngaymuon" minWidth="0.0" prefWidth="268.0" text="ngay muon" />
                        <TableColumn fx:id="ngaytra" minWidth="0.0" prefWidth="234.0" text="ngay tra" />
                    </columns>
                  </TableView>
                  <Pane fx:id="infoBorrow" layoutX="1.0" layoutY="307.0" prefHeight="256.0" prefWidth="713.0" />
               </children>
            </Pane>

                <!-- Dashboard -->
                <Pane fx:id="home" prefHeight="537.0" prefWidth="692.0" style="-fx-padding: 20px;" visible="true">
                    <VBox prefHeight="236.0" prefWidth="713.0" spacing="10.0">
                        <Label fx:id="dashboardLabel" prefHeight="73.0" prefWidth="306.0" style="-fx-font-size: 50px; -fx-font-weight: bold;" text="Dashboard" />
                        <Label fx:id="greetingLabel" style="-fx-font-size: 40px; -fx-text-fill: red;" text="Hello, User!" />
                        <Label fx:id="dateTimeLabel" prefHeight="56.0" prefWidth="462.0" text="Date &amp; Time" />
                    </VBox>
               <VBox layoutX="-3.0" layoutY="270.0" prefHeight="292.0" prefWidth="713.0" />
                </Pane>
            </StackPane>
        </Pane>
         <HBox alignment="BOTTOM_RIGHT" layoutX="7.0" layoutY="541.0" prefHeight="61.0" prefWidth="110.0" style="-fx-padding: 10px;">
             <Button fx:id="logoutButton" prefHeight="38.0" prefWidth="93.0" styleClass="logout-button" text="Logout" />
         </HBox>
      <ImageView fitHeight="80.0" fitWidth="90.0" layoutX="15.0" layoutY="20.0" pickOnBounds="true" preserveRatio="true" />
          <Label layoutX="342.0" layoutY="10.0" styleClass="title-label" text="Library Management System">
              <font>
                  <Font name="Arial Bold" size="28.0" />
              </font>
          </Label>
      <Avatar layoutX="44.0" layoutY="54.0" />

    </AnchorPane>
</StackPane>
