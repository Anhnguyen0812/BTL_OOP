<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.layout.StackPane?>


<StackPane xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1">
    <BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="800.0" stylesheets="@../styles/Admin.css">

        <!-- Header -->
        <top>
            <HBox alignment="CENTER" spacing="20.0" style="-fx-padding: 10px;">
                <Label text="Library Management System" styleClass="title-label">
                    <font>
                        <Font name="Arial Bold" size="28.0" />
                    </font>
                </Label>
            </HBox>
        </top>

        <!-- Left Navigation -->
        <left>
            <VBox spacing="15.0" style="-fx-padding: 20px;"> 
                <Label text="Home" fx:id="Home" onMouseClicked="#Home" styleClass="nav-label"/>
                <Label text="Search Book" fx:id="navSearchBook" onMouseClicked="#showSearchBookPane" styleClass="nav-label"/>
                <Label text="Manage Books" fx:id="navManageBooks" onMouseClicked="#showManageBooksPane" styleClass="nav-label"/>
                <Label text="Manage Users" fx:id="navManageUsers" onMouseClicked="#showManageUsersPane" styleClass="nav-label"/>
               
            </VBox>
        </left>

        <!-- Main Content -->
        <center>
            <StackPane fx:id="contentArea">

                <!-- Dashboard -->
                <VBox fx:id = "home" visible="true" spacing="10.0" style="-fx-padding: 20px;">
                    <Label fx:id="dashboardLabel" text="Dashboard" style="-fx-font-size: 50px; -fx-font-weight: bold;" />
                    <Label fx:id="greetingLabel" text="Hello, User!" style="-fx-font-size: 40px; -fx-text-fill: red;" />
                    <Label fx:id="dateTimeLabel" text="Date &amp; Time" />
                </VBox>

                <!-- Search Book Pane -->
                <VBox fx:id="searchBookPane" visible="false" spacing="10.0" style="-fx-padding: 20px;">
                    <Label text="Search Books" styleClass="section-title"/>
                    <HBox spacing="10.0">
                        <TextField fx:id="searchBook" promptText="Enter book title" />
                        <TextField fx:id="searchAuthor" promptText="Enter author name" />
                       <Button fx:id="searchBookButton" styleClass="SearchButton" layoutX="345.0" layoutY="240.0" mnemonicParsing="false" onAction="#handleSearchBook" text="SearchBook" />
                    </HBox>
                    <ListView fx:id="searchResult" prefHeight="200.0" />
                </VBox>

                <!-- Manage Books Pane -->
                <VBox fx:id="manageBooksPane" visible="false" spacing="10.0" style="-fx-padding: 20px;">
                    <Label text="Manage Books" styleClass="section-title"/>
                    <HBox spacing="10.0">
                        <TextField fx:id="bookTitleField" promptText="Enter book title" />
                        <TextField fx:id="bookAuthorField" promptText="Enter author name" />
                        <TextField fx:id="bookISBNField" promptText="Enter ISBN" />
                        <Button fx:id="addBookButton" text="Add Book" onAction="#handleAddBook" />
                    </HBox>
                    <TableView fx:id="bookTable">
                        <columns>
                            <TableColumn text="Title" fx:id="titleColumn"/>
                            <TableColumn text="Author" fx:id="authorColumn"/>
                            <TableColumn text="ISBN" fx:id="isbnColumn"/>
                            <TableColumn text="Available" fx:id="availableColumn"/>
                        </columns>
                    </TableView>
                </VBox>

                <!-- Manage Users Pane -->
                <VBox fx:id="manageUsersPane" visible="false" spacing="10.0" style="-fx-padding: 20px;">
                    <Label text="Manage Users" styleClass="section-title"/>
                    <HBox spacing="10.0">
                        <TextField fx:id="usernameField" promptText="Enter username" />
                        <TextField fx:id="emailField" promptText="Enter email" />
                        <TextField fx:id="password" promptText="password" />
                        <Button fx:id="addUserButton" text="Add User" onAction="#handleAddUser" />
                    </HBox>
                    <TableView fx:id="userTable">
                        <columns>
                            <TableColumn text="Id" fx:id="idColumn"/>
                            <TableColumn text="Username" fx:id="usernameColumn"/>
                            <TableColumn text="Email" fx:id="emailColumn"/>                         
                        </columns>
                    </TableView>
                </VBox>
            </StackPane>
        </center>

        <!-- Logout Button -->
        <bottom>
            <HBox alignment="BOTTOM_RIGHT" style="-fx-padding: 10px;" prefHeight="50.0">
                <Button fx:id="logoutButton" text="Logout" styleClass="logout-button" onAction="#handleLogout"/>
            </HBox>
        </bottom>

    </BorderPane>
</StackPane>
